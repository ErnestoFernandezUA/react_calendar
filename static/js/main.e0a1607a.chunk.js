(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{70:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a,r,c,o,s,i,u,l,d,j,b,g,D,f,O,h=n(46),w=n.n(h),p=n(30),v=n(49),m=n(3),x=n(8),y=n(26),Y=n(9),S=n(4),k=function(){return Object(S.jsx)("div",{children:"This page doesn\xa0t exist."})},F=n(0),C={DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"},E=n(18),M=n(10),A=n(5),P=n.n(A),R=n(22),L={currentDate:0,start:0,end:0,storage:[],formatCalendar:C.MONTH},N=(Object(R.b)("Interval/fetchInterval",Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),Object(R.c)({name:"post",initialState:L,reducers:{setCurrentDate:function(e){e.currentDate=(new Date).valueOf()},setSpecialDate:function(e,t){e.currentDate=new Date(t.payload).valueOf()},addTodo:function(e,t){e.storage.push(t.payload)},setFormat:function(e,t){e.formatCalendar=t.payload,console.log("setFormat",e.formatCalendar)},setIntervalCalendar:function(e){if(console.log("setIntervalCalendar//","format calendar:",e.formatCalendar,"current date:",new Date(e.currentDate).toDateString()),e.currentDate)switch(e.formatCalendar){case C.DAY:e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),new Date(e.currentDate).getDate()).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),new Date(e.currentDate).getDate()+1).valueOf(),console.log("day start",new Date(e.start).toString()),console.log("day end",new Date(e.end).toString());break;case C.WEEK:var t=new Date(e.currentDate).getDate(),n=new Date(e.currentDate).getDay();e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),0===n?t-n+1-7:t-n+1).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),0===n?t-n+1-7:t-n+1+7).valueOf(),console.log("week start",new Date(e.start).toDateString()),console.log("week end",new Date(e.end).toDateString());break;case C.MONTH:e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),1-new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),0).getDay()).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth()+1,(8-new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth()+1,0).getDay())%7).valueOf(),console.log("start month",new Date(e.start).toString()),console.log("end month",new Date(e.end).toString());break;case C.YEAR:e.start=new Date(new Date(e.currentDate).getFullYear(),0,1).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear()+1,0,1).valueOf(),console.log("start year",new Date(e.start).toString()),console.log("end year",new Date(e.end).toString())}else console.log("break")},resetState:function(e){return Object(E.a)(Object(E.a)({},e),L)}}})),T=N.reducer,I=N.actions,W=I.setCurrentDate,H=I.setSpecialDate,z=I.setFormat,K=I.setIntervalCalendar,B=(I.addTodo,I.resetState,function(e){return e.interval.currentDate}),J=function(e){return e.interval.start},_=function(e){return e.interval.end},U=function(e){return e.interval.formatCalendar},V=p.b,q=p.c,G=n(7),Q=Y.b.div(a||(a=Object(x.a)(["\n  box-sizing: border-box;\n  padding: 10px;\n  font-size: 14px;\n  cursor: pointer;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n"])),(function(e){return e.format===C.DAY&&Object(Y.a)(r||(r=Object(x.a)(["\n    height: 100vh;\n  "])))}),(function(e){var t=e.format;return(t===C.WEEK||t===C.MONTH)&&Object(Y.a)(c||(c=Object(x.a)(["\n    height: 200px;\n  "])))}),(function(e){var t=e.format,n=e.isWeekend;return t===C.YEAR&&n&&Object(Y.a)(o||(o=Object(x.a)(["\n    color: red;\n  "])))}),(function(e){return e.isNotCurrentMonth&&Object(Y.a)(s||(s=Object(x.a)(["\n    opacity: 0.4;\n  "])))}),(function(e){return e.isCurrentDay&&Object(Y.a)(i||(i=Object(x.a)(["\n    background-color: #79c6c6;\n  "])))})),X=Y.b.div(u||(u=Object(x.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]))),Z=Y.b.div(l||(l=Object(x.a)(["\n ","\n"])),(function(e){return e.isWeekend?Object(Y.a)(d||(d=Object(x.a)(["\n        color: #a16e73;\n        font-weight: bold;\n      "]))):""})),$=Y.b.div(j||(j=Object(x.a)(["\n"]))),ee=Y.b.div(b||(b=Object(x.a)(["\n  ","\n"])),(function(e){return e.format===C.YEAR?Object(Y.a)(g||(g=Object(x.a)(["\n        display: none;\n      "]))):""})),te=function(e){var t=e.startDay,n=e.disabled,a=void 0!==n&&n,r=V(),c=q(B),o=q(U),s=0===new Date(t).getDay()||6===new Date(t).getDay(),i=new Date(t).toDateString().split(" "),u=Object(G.a)(i,4),l=u[0],d=u[1],j=u[2],b=u[3],g=function(e,t){var n=new Date(e).getFullYear()===new Date(t).getFullYear(),a=new Date(e).getMonth()===new Date(t).getMonth()&&new Date(e).getFullYear()===new Date(t).getFullYear();return[new Date(e).getDate()===new Date(t).getDate()&&new Date(e).getMonth()===new Date(t).getMonth()&&new Date(e).getFullYear()===new Date(t).getFullYear(),a,n]}(c,t),D=Object(G.a)(g,2),f=D[0],O=D[1];return a?Object(S.jsx)("div",{}):Object(S.jsxs)(Q,{format:o,isWeekend:s,isNotCurrentMonth:!O,isCurrentDay:f,onClick:function(){a||r(H(t)),a||O||r(K())},children:[Object(S.jsxs)(X,{children:[Object(S.jsx)(Z,{isWeekend:s,children:o!==C.YEAR&&l}),Object(S.jsx)($,{children:o===C.DAY?"".concat(j,"/").concat(d,"/").concat(b):j})]}),Object(S.jsx)(ee,{format:o,children:Object(S.jsx)("p",{children:"List of TODOS:"})})]})},ne=Y.b.div(D||(D=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n\n  ","\n"])),(function(e){var t=e.format;return t===C.DAY?Object(Y.a)(f||(f=Object(x.a)(["\n        display: block;\n      "]))):t===C.YEAR?Object(Y.a)(O||(O=Object(x.a)(["\n        /* max-width: 200px; */\n      "]))):""})),ae=function(e){for(var t=e.interval,n=q(U),a=(new Date(t[0]).getDay()+7-1)%7,r=[],c=0;c<a;c+=1)r.push(-c);return Object(S.jsxs)(ne,{format:n,children:[r.map((function(e){return Object(S.jsx)(te,{startDay:e,disabled:!0},e)})),t.map((function(e){return Object(S.jsx)(te,{startDay:e},e)}))]})};var re,ce,oe,se,ie,ue,le=Y.b.div(re||(re=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 2rem;\n  min-width: 1100px;\n"]))),de=function(e){var t=e.interval,n=Object(F.useRef)(function(e){for(var t=[],n=0;n<e.length;){for(var a=new Date(e[n]).getMonth(),r=[];a===new Date(e[n]).getMonth();)r.push(e[n]),n+=1;t.push(r)}return t}(t));return Object(S.jsx)(le,{children:n.current.map((function(e){return Object(S.jsx)(ae,{interval:e},e[0])}))})},je=Y.b.div(ce||(ce=Object(x.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),be=function(){var e=V(),t=q(B),n=function(e,t){var n=[],a=e;for(console.log("buildInterval//",new Date(e).toDateString(),"-----------",new Date(t).toDateString());a<t;)n.push(a),a=new Date(new Date(a).getFullYear(),new Date(a).getMonth(),new Date(a).getDate()+1).valueOf();return n}(q(J),q(_)),a=q(U);return Object(F.useEffect)((function(){t||(e(W()),e(z(C.MONTH))),e(K())}),[]),Object(S.jsx)(je,{children:a===C.YEAR?Object(S.jsx)(de,{interval:n}):Object(S.jsx)(ae,{interval:n})})},ge=n(13),De=n(76),fe="https://jsonplaceholder.typicode.com",Oe=De.a.create({baseURL:fe}),he=function(e){return Object(M.a)(P.a.mark((function t(){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.get(e);case 2:return n=t.sent,console.log("get",fe+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},we={storage:[],statusLoading:"idle",error:null},pe=Object(R.b)("posts/fetchPosts",Object(M.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("/posts/");case 2:return t=e.sent,console.log(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),ve=Object(R.c)({name:"post",initialState:we,reducers:{addPosts:function(e,t){var n;(n=e.storage).push.apply(n,Object(ge.a)(t.payload))},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetState:function(e){return Object(E.a)(Object(E.a)({},e),we)}},extraReducers:function(e){e.addCase(pe.pending,(function(e){e.statusLoading="loading"})).addCase(pe.fulfilled,(function(e,t){var n;(n=e.storage).push.apply(n,Object(ge.a)(t.payload)),e.statusLoading="idle"})).addCase(pe.rejected,(function(e,t){e.statusLoading="failed",console.log(t)}))}}),me=ve.reducer,xe=ve.actions,ye=(xe.addPosts,xe.setStatus,xe.setError,xe.resetState),Ye=function(e){return e.posts.storage},Se=(n(70),function(){var e=Object(m.o)().id;console.log(e);var t=q(Ye);V()(ye());var n=t.find((function(t){return String(t.id)===String(e)}));return Object(S.jsxs)("div",{className:"PostPage",children:[Object(S.jsx)(y.a,{to:"/",className:"PostPage__Link",children:"Back"}),n?Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:"PostPage: ".concat(n.title)}),Object(S.jsx)("p",{children:n.body})]}):Object(S.jsx)(S.Fragment,{children:"post doesn\xa0t exist"})]})}),ke=Y.b.div(oe||(oe=Object(x.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Fe=function(){var e=V(),t=q(B),n=q(U);return Object(S.jsxs)(ke,{children:[Object(S.jsx)("p",{children:new Date(t).toDateString()}),Object(S.jsx)("select",{defaultValue:n,onChange:function(t){var n=t.target.value;e(z(n)),e(K())},children:Object.keys(C).map((function(e){var t=e;return Object(S.jsx)("option",{value:C[t],children:C[t]},e)}))})]})},Ce=Y.b.div(se||(se=Object(x.a)(["\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100vh;\n  "]))),Ee=Y.b.header(ie||(ie=Object(x.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  text-align: center;\n  margin-bottom: 1rem;\n"]))),Me=Y.b.main(ue||(ue=Object(x.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"])));function Ae(){return Object(S.jsxs)(Ce,{children:[Object(S.jsxs)(Ee,{children:[Object(S.jsx)("h1",{children:"Calendar"}),Object(S.jsx)(Fe,{})]}),Object(S.jsx)(Me,{children:Object(S.jsx)(m.a,{})})]})}var Pe=Object(y.b)([{path:"/",element:Object(S.jsx)(Ae,{}),errorElement:Object(S.jsx)(k,{}),id:"root",children:[{path:"/",element:Object(S.jsx)(be,{}),id:"homepage",errorElement:Object(S.jsx)(S.Fragment,{children:"Error on Homepage"})},{path:"/post/:id",element:Object(S.jsx)(Se,{}),errorElement:Object(S.jsx)(S.Fragment,{children:"Error on PostPage"})}]}]),Re=n(16),Le=n(19),Ne=n(53),Te=n.n(Ne),Ie=Object(Re.b)({posts:me,interval:T}),We={key:"root",storage:Te.a,whitelist:["interval"]},He=Object(Le.g)(We,Ie),ze=Object(R.a)({reducer:He,middleware:function(e){return e({serializableCheck:{ignoredActions:[Le.a,Le.f,Le.b,Le.c,Le.d,Le.e,"posts"]}})}}),Ke=ze,Be=Object(Le.h)(ze);n(73);w.a.createRoot(document.getElementById("root")).render(Object(S.jsx)(p.a,{store:Ke,children:Object(S.jsx)(v.a,{loading:null,persistor:Be,children:Object(S.jsx)(m.c,{router:Pe})})}))}},[[74,1,2]]]);
//# sourceMappingURL=main.e0a1607a.chunk.js.map