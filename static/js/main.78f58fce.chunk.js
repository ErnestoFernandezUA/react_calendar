(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{70:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a,r,c,o,i,s,u,l,d,b,j,D,g,f,O,h,p,w,v,m=n(46),x=n.n(m),y=n(30),Y=n(49),C=n(3),M=n(7),k=n(26),S=n(8),F=n(4),E=function(){return Object(F.jsx)("div",{children:"This page doesn\xa0t exist."})},A=n(0),P={DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"},R=["January","February","March","April","May","June","July","August","September","October","November","December"],N=n(18),T=n(10),L=n(5),W=n.n(L),H=n(22),I={currentDate:0,start:0,end:0,storage:[],formatCalendar:P.MONTH},J=(Object(H.b)("Interval/fetchInterval",Object(T.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),Object(H.c)({name:"post",initialState:I,reducers:{setCurrentDate:function(e){e.currentDate=(new Date).valueOf()},setSpecialDate:function(e,t){e.currentDate=new Date(t.payload).valueOf()},addTodo:function(e,t){e.storage.push(t.payload)},setFormat:function(e,t){e.formatCalendar=t.payload,console.log("setFormat",e.formatCalendar)},setIntervalCalendar:function(e){if(console.log("setIntervalCalendar//","format calendar:",e.formatCalendar,"current date:",new Date(e.currentDate).toDateString()),e.currentDate)switch(e.formatCalendar){case P.DAY:e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),new Date(e.currentDate).getDate()).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),new Date(e.currentDate).getDate()+1).valueOf(),console.log("day start",new Date(e.start).toString()),console.log("day end",new Date(e.end).toString());break;case P.WEEK:var t=new Date(e.currentDate).getDate(),n=new Date(e.currentDate).getDay();e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),0===n?t-n+1-7:t-n+1).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),7+(0===n?t-n+1-7:t-n+1)).valueOf(),console.log("week start",new Date(e.start).toDateString()),console.log("week end",new Date(e.end).toDateString());break;case P.MONTH:e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),1-new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),0).getDay()).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth()+1,(8-new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth()+1,0).getDay())%7).valueOf(),console.log("start month",new Date(e.start).toString()),console.log("end month",new Date(e.end).toString());break;case P.YEAR:e.start=new Date(new Date(e.currentDate).getFullYear(),0,1).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear()+1,0,1).valueOf(),console.log("start year",new Date(e.start).toString()),console.log("end year",new Date(e.end).toString())}else console.log("break")},resetState:function(e){return Object(N.a)(Object(N.a)({},e),I)}}})),K=J.reducer,z=J.actions,B=z.setCurrentDate,_=z.setSpecialDate,G=z.setFormat,U=z.setIntervalCalendar,V=(z.addTodo,z.resetState,function(e){return e.interval.currentDate}),q=function(e){return e.interval.start},Q=function(e){return e.interval.end},X=function(e){return e.interval.formatCalendar},Z=y.b,$=y.c,ee=n(9),te=S.b.div(a||(a=Object(M.a)(["\n  box-sizing: border-box;\n  padding: 10px;\n  font-size: 14px;\n  cursor: pointer;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n"])),(function(e){return e.format===P.DAY&&Object(S.a)(r||(r=Object(M.a)(["\n    height: 100vh;\n  "])))}),(function(e){var t=e.format;return(t===P.WEEK||t===P.MONTH)&&Object(S.a)(c||(c=Object(M.a)(["\n    height: 200px;\n  "])))}),(function(e){var t=e.format,n=e.isWeekend;return t===P.YEAR&&n&&Object(S.a)(o||(o=Object(M.a)(["\n    color: red;\n  "])))}),(function(e){return e.isNotCurrentMonth&&Object(S.a)(i||(i=Object(M.a)(["\n    opacity: 0.4;\n  "])))}),(function(e){return e.isCurrentDay&&Object(S.a)(s||(s=Object(M.a)(["\n    background-color: #79c6c6;\n  "])))})),ne=S.b.div(u||(u=Object(M.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]))),ae=S.b.div(l||(l=Object(M.a)(["\n ","\n"])),(function(e){return e.isWeekend?Object(S.a)(d||(d=Object(M.a)(["\n        color: #a16e73;\n        font-weight: bold;\n      "]))):""})),re=S.b.div(b||(b=Object(M.a)(["\n"]))),ce=S.b.div(j||(j=Object(M.a)(["\n  ","\n"])),(function(e){return e.format===P.YEAR?Object(S.a)(D||(D=Object(M.a)(["\n        display: none;\n      "]))):""})),oe=function(e){var t=e.startDay,n=e.disabled,a=void 0!==n&&n,r=Z(),c=$(V),o=$(X),i=0===new Date(t).getDay()||6===new Date(t).getDay(),s=new Date(t).toDateString().split(" "),u=Object(ee.a)(s,4),l=u[0],d=u[1],b=u[2],j=u[3],D=function(e,t){var n=new Date(e).getFullYear()===new Date(t).getFullYear(),a=new Date(e).getMonth()===new Date(t).getMonth()&&new Date(e).getFullYear()===new Date(t).getFullYear();return{isCurrentDay:new Date(e).getDate()===new Date(t).getDate()&&new Date(e).getMonth()===new Date(t).getMonth()&&new Date(e).getFullYear()===new Date(t).getFullYear(),isCurrentMonth:a,isCurrentYear:n}}(c,t),g=D.isCurrentDay,f=D.isCurrentMonth;return a?Object(F.jsx)("div",{}):Object(F.jsxs)(te,{format:o,isWeekend:i,isNotCurrentMonth:!f,isCurrentDay:g,children:[Object(F.jsxs)(ne,{children:[Object(F.jsx)(ae,{isWeekend:i,children:o!==P.YEAR&&l}),Object(F.jsx)(re,{onClick:function(){if(console.log("Day onClick"),!g||o!==P.DAY){if(g)return r(G(P.DAY)),void r(U());a||r(_(t)),a||f||r(U())}},children:o===P.DAY?"".concat(b,"/").concat(d,"/").concat(j):b})]}),Object(F.jsx)(ce,{format:o,children:Object(F.jsx)("p",{children:"List of TODOS:"})})]})},ie=S.b.div(g||(g=Object(M.a)(["\n\n\n  ","\n"])),(function(e){var t=e.format;return t===P.DAY?Object(S.a)(f||(f=Object(M.a)(["\n        display: block;\n      "]))):t===P.YEAR?Object(S.a)(O||(O=Object(M.a)(["\n        /* max-width: 200px; */\n      "]))):""})),se=S.b.div(h||(h=Object(M.a)(["\n  ","\n"])),(function(e){return e.format===P.DAY&&Object(S.a)(p||(p=Object(M.a)(["\n    display: none;\n  "])))})),ue=S.b.div(w||(w=Object(M.a)(["\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n\n  ","\n"])),(function(e){return e.format===P.DAY&&Object(S.a)(v||(v=Object(M.a)(["\n    display: block;\n  "])))})),le=function(e){for(var t=e.interval,n=$(X),a=Object(A.useRef)(new Date(t[0]).getMonth()),r=(new Date(t[0]).getDay()+7-1)%7,c=[],o=0;o<r;o+=1)c.push(-o);return console.log("render month"),Object(F.jsxs)(ie,{format:n,children:[Object(F.jsx)(se,{format:n,children:R[a.current]}),Object(F.jsxs)(ue,{format:n,children:[c.map((function(e){return Object(F.jsx)(oe,{startDay:e,disabled:!0},e)})),t.map((function(e){return Object(F.jsx)(oe,{startDay:e},e)}))]})]})};var de,be,je,De,ge,fe,Oe,he=S.b.div(de||(de=Object(M.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 2rem;\n  min-width: 1100px;\n"]))),pe=function(e){var t=e.interval,n=Object(A.useRef)(function(e){for(var t=[],n=0;n<e.length;){for(var a=new Date(e[n]).getMonth(),r=[];a===new Date(e[n]).getMonth();)r.push(e[n]),n+=1;t.push(r)}return t}(t));return Object(F.jsx)(he,{children:n.current.map((function(e){return Object(F.jsx)(le,{interval:e},e[0])}))})},we=S.b.div(be||(be=Object(M.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),ve=function(){var e=Z(),t=$(V),n=function(e,t){var n=[],a=e;for(console.log("buildInterval//",new Date(e).toDateString(),"-----------",new Date(t).toDateString());a<t;)n.push(a),a=new Date(new Date(a).getFullYear(),new Date(a).getMonth(),new Date(a).getDate()+1).valueOf();return n}($(q),$(Q)),a=$(X);return Object(A.useEffect)((function(){t||(e(B()),e(G(P.MONTH))),e(U())}),[]),Object(F.jsxs)(we,{children:[a===P.YEAR&&Object(F.jsx)(pe,{interval:n}),(a===P.MONTH||a===P.WEEK)&&Object(F.jsx)(le,{interval:n}),a===P.DAY&&Object(F.jsx)(oe,{startDay:n[0]})]})},me=n(13),xe=n(76),ye="https://jsonplaceholder.typicode.com",Ye=xe.a.create({baseURL:ye}),Ce=function(e){return Object(T.a)(W.a.mark((function t(){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye.get(e);case 2:return n=t.sent,console.log("get",ye+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},Me={storage:[],statusLoading:"idle",error:null},ke=Object(H.b)("posts/fetchPosts",Object(T.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce("/posts/");case 2:return t=e.sent,console.log(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),Se=Object(H.c)({name:"post",initialState:Me,reducers:{addPosts:function(e,t){var n;(n=e.storage).push.apply(n,Object(me.a)(t.payload))},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetState:function(e){return Object(N.a)(Object(N.a)({},e),Me)}},extraReducers:function(e){e.addCase(ke.pending,(function(e){e.statusLoading="loading"})).addCase(ke.fulfilled,(function(e,t){var n;(n=e.storage).push.apply(n,Object(me.a)(t.payload)),e.statusLoading="idle"})).addCase(ke.rejected,(function(e,t){e.statusLoading="failed",console.log(t)}))}}),Fe=Se.reducer,Ee=Se.actions,Ae=(Ee.addPosts,Ee.setStatus,Ee.setError,Ee.resetState),Pe=function(e){return e.posts.storage},Re=(n(70),function(){var e=Object(C.o)().id;console.log(e);var t=$(Pe);Z()(Ae());var n=t.find((function(t){return String(t.id)===String(e)}));return Object(F.jsxs)("div",{className:"PostPage",children:[Object(F.jsx)(k.a,{to:"/",className:"PostPage__Link",children:"Back"}),n?Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:"PostPage: ".concat(n.title)}),Object(F.jsx)("p",{children:n.body})]}):Object(F.jsx)(F.Fragment,{children:"post doesn\xa0t exist"})]})}),Ne=S.b.div(je||(je=Object(M.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Te=S.b.div(De||(De=Object(M.a)(["\n  cursor: pointer;\n"]))),Le=function(){var e=Z(),t=$(V),n=$(X);return console.log("Control/ format ---------------",n),Object(F.jsxs)(Ne,{children:[Object(F.jsx)(Te,{format:n,onClick:function(){console.log("onGoToPrevFormat")},children:new Date(t).toDateString()}),Object(F.jsx)("select",{value:n,defaultValue:n,onChange:function(t){var n=t.target.value;e(G(n)),e(U())},children:Object.keys(P).map((function(e){var t=e;return Object(F.jsx)("option",{value:P[t],children:P[t]},e)}))})]})},We=S.b.div(ge||(ge=Object(M.a)(["\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100vh;\n  "]))),He=S.b.header(fe||(fe=Object(M.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  text-align: center;\n  margin-bottom: 1rem;\n"]))),Ie=S.b.main(Oe||(Oe=Object(M.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"])));function Je(){return Object(F.jsxs)(We,{children:[Object(F.jsxs)(He,{children:[Object(F.jsx)("h1",{children:"Calendar"}),Object(F.jsx)(Le,{})]}),Object(F.jsx)(Ie,{children:Object(F.jsx)(C.a,{})})]})}var Ke=Object(k.b)([{path:"/",element:Object(F.jsx)(Je,{}),errorElement:Object(F.jsx)(E,{}),id:"root",children:[{path:"/",element:Object(F.jsx)(ve,{}),id:"homepage",errorElement:Object(F.jsx)(F.Fragment,{children:"Error on Homepage"})},{path:"/post/:id",element:Object(F.jsx)(Re,{}),errorElement:Object(F.jsx)(F.Fragment,{children:"Error on PostPage"})}]}]),ze=n(16),Be=n(19),_e=n(53),Ge=n.n(_e),Ue=Object(ze.b)({posts:Fe,interval:K}),Ve={key:"root",storage:Ge.a,whitelist:["interval"]},qe=Object(Be.g)(Ve,Ue),Qe=Object(H.a)({reducer:qe,middleware:function(e){return e({serializableCheck:{ignoredActions:[Be.a,Be.f,Be.b,Be.c,Be.d,Be.e,"posts"]}})}}),Xe=Qe,Ze=Object(Be.h)(Qe);n(73);x.a.createRoot(document.getElementById("root")).render(Object(F.jsx)(y.a,{store:Xe,children:Object(F.jsx)(Y.a,{loading:null,persistor:Ze,children:Object(F.jsx)(C.c,{router:Ke})})}))}},[[74,1,2]]]);
//# sourceMappingURL=main.78f58fce.chunk.js.map