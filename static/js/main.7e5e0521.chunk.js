(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{70:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a,r,c,o,s,u,i,l,d=n(46),j=n.n(d),D=n(30),b=n(49),g=n(3),f=n(12),O=n(26),h=n(13),p=n(5),w=function(){return Object(p.jsx)("div",{children:"This page doesn\xa0t exist."})},v=n(0),m=n(11),x={DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"},y=n(18),k=n(8),S=n(4),E=n.n(S),Y=n(22),C={currentDate:0,start:0,end:0,storage:[],formatCalendar:x.MONTH},F=(Object(Y.b)("Interval/fetchInterval",Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),Object(Y.c)({name:"post",initialState:C,reducers:{setCurrentDate:function(e){e.currentDate=(new Date).valueOf()},setSpecialDate:function(e,t){e.currentDate=new Date(t.payload).valueOf()},addTodo:function(e,t){e.storage.push(t.payload)},setFormat:function(e,t){e.formatCalendar=t.payload,console.log("setFormat",e.formatCalendar)},setIntervalCalendar:function(e){if(console.log("setIntervalCalendar//","format calendar:",e.formatCalendar,"current date:",new Date(e.currentDate).toDateString()),e.currentDate)switch(e.formatCalendar){case x.DAY:e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),new Date(e.currentDate).getDate()).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),new Date(e.currentDate).getDate()+1).valueOf(),console.log("day start",new Date(e.start).toString()),console.log("day end",new Date(e.end).toString());break;case x.WEEK:var t=new Date(e.currentDate).getDate(),n=new Date(e.currentDate).getDay();e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),0===n?t-n+1-7:t-n+1).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),7+n===0?t-n+1-7:t-n+1).valueOf(),console.log("week start",new Date(e.start).toDateString()),console.log("week end",new Date(e.end).toDateString());break;case x.MONTH:e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),1-new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),0).getDay()).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth()+1,(8-new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth()+1,0).getDay())%7).valueOf();break;case x.YEAR:e.start=new Date(new Date(e.currentDate).getFullYear(),0,1).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear()+1,0,1).valueOf()}else console.log("break")},resetState:function(e){return Object(y.a)(Object(y.a)({},e),C)}}})),M=F.reducer,P=F.actions,L=P.setCurrentDate,A=P.setSpecialDate,W=P.setFormat,R=P.setIntervalCalendar,T=(P.addTodo,P.resetState,function(e){return e.interval.currentDate}),I=function(e){return e.interval.start},N=function(e){return e.interval.end},H=function(e){return e.interval.formatCalendar},K=D.b,B=D.c,J=h.b.div(a||(a=Object(f.a)(["\n  ","\n\n  ","\n"])),(function(e){return"week"===e.format?Object(h.a)(r||(r=Object(f.a)(["\n      "]))):""}),(function(e){return e.isWeekend?Object(h.a)(c||(c=Object(f.a)(["\n        background-color: #caead6;\n      "]))):""})),_=function(e){var t=e.startDay,n=B(H),a=new Date(t).toDateString(),r=0===new Date(t).getDay()||6===new Date(t).getDay();return"year"===n?Object(p.jsx)(J,{format:n,isWeekend:r,children:new Date(t).getDate()}):"week"===n||"month"===n?Object(p.jsxs)(J,{format:n,isWeekend:r,children:[a,n]}):Object(p.jsxs)(J,{format:n,isWeekend:r,children:[a,"List of TODOS:"]})},z=h.b.div(o||(o=Object(f.a)(["\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n\n  ","\n\n  ","\n"])),(function(e){var t=e.format;return t===x.DAY?Object(h.a)(s||(s=Object(f.a)(["\n        display: block;\n      "]))):t===x.YEAR?Object(h.a)(u||(u=Object(f.a)(["\n      "]))):""}),(function(e){return e.isWeekend?Object(h.a)(i||(i=Object(f.a)(["\n        background-color: #caead6;\n      "]))):""})),U=function(e){var t=e.interval,n=B(H),a=[];return n===x.YEAR?a.push.apply(a,Object(m.a)(function(e){for(var t=[],n=0;n<e.length;){for(var a=new Date(e[n]).getMonth(),r=[];a===new Date(e[n]).getMonth();)r.push(e[n]),n+=1;t.push(r)}return t}(t))):a.push.apply(a,Object(m.a)(t)),Object(p.jsx)(z,{format:n,children:t.map((function(e){return Object(p.jsx)(_,{startDay:e},e)}))})};var V,q,G,Q,X=h.b.div(l||(l=Object(f.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),Z=function(){var e=K(),t=B(T),n=function(e,t){for(var n=[],a=e;a<t;)n.push(a),a=new Date(new Date(a).getFullYear(),new Date(a).getMonth(),new Date(a).getDate()+1).valueOf();return n}(B(I),B(N));return Object(v.useEffect)((function(){t||e(L()),e(A(new Date(2023,2,19).valueOf())),e(W(x.WEEK)),e(R())}),[]),Object(p.jsx)(X,{children:Object(p.jsx)(U,{interval:n})})},$=n(76),ee="https://jsonplaceholder.typicode.com",te=$.a.create({baseURL:ee}),ne=function(e){return Object(k.a)(E.a.mark((function t(){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te.get(e);case 2:return n=t.sent,console.log("get",ee+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},ae={storage:[],statusLoading:"idle",error:null},re=Object(Y.b)("posts/fetchPosts",Object(k.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("/posts/");case 2:return t=e.sent,console.log(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),ce=Object(Y.c)({name:"post",initialState:ae,reducers:{addPosts:function(e,t){var n;(n=e.storage).push.apply(n,Object(m.a)(t.payload))},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetState:function(e){return Object(y.a)(Object(y.a)({},e),ae)}},extraReducers:function(e){e.addCase(re.pending,(function(e){e.statusLoading="loading"})).addCase(re.fulfilled,(function(e,t){var n;(n=e.storage).push.apply(n,Object(m.a)(t.payload)),e.statusLoading="idle"})).addCase(re.rejected,(function(e,t){e.statusLoading="failed",console.log(t)}))}}),oe=ce.reducer,se=ce.actions,ue=(se.addPosts,se.setStatus,se.setError,se.resetState),ie=function(e){return e.posts.storage},le=(n(70),function(){var e=Object(g.o)().id;console.log(e);var t=B(ie);K()(ue());var n=t.find((function(t){return String(t.id)===String(e)}));return Object(p.jsxs)("div",{className:"PostPage",children:[Object(p.jsx)(O.a,{to:"/",className:"PostPage__Link",children:"Back"}),n?Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"PostPage: ".concat(n.title)}),Object(p.jsx)("p",{children:n.body})]}):Object(p.jsx)(p.Fragment,{children:"post doesn\xa0t exist"})]})}),de=h.b.div(V||(V=Object(f.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),je=function(){var e=K(),t=B(T),n=B(H);return Object(p.jsxs)(de,{children:[Object(p.jsx)("p",{children:new Date(t).toDateString()}),Object(p.jsx)("select",{defaultValue:n,onChange:function(t){var n=t.target.value;e(W(n)),e(R())},children:Object.keys(x).map((function(e){var t=e;return Object(p.jsx)("option",{value:x[t],children:x[t]},e)}))})]})},De=h.b.div(q||(q=Object(f.a)(["\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100vh;\n  "]))),be=h.b.header(G||(G=Object(f.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  text-align: center;\n  margin-bottom: 1rem;\n"]))),ge=h.b.main(Q||(Q=Object(f.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"])));function fe(){return Object(p.jsxs)(De,{children:[Object(p.jsxs)(be,{children:[Object(p.jsx)("h1",{children:"Calendar"}),Object(p.jsx)(je,{})]}),Object(p.jsx)(ge,{children:Object(p.jsx)(g.a,{})})]})}var Oe=Object(O.b)([{path:"/",element:Object(p.jsx)(fe,{}),errorElement:Object(p.jsx)(w,{}),id:"root",children:[{path:"/",element:Object(p.jsx)(Z,{}),id:"homepage",errorElement:Object(p.jsx)(p.Fragment,{children:"Error on Homepage"})},{path:"/post/:id",element:Object(p.jsx)(le,{}),errorElement:Object(p.jsx)(p.Fragment,{children:"Error on PostPage"})}]}]),he=n(16),pe=n(19),we=n(53),ve=n.n(we),me=Object(he.b)({posts:oe,interval:M}),xe={key:"root",storage:ve.a,whitelist:["interval"]},ye=Object(pe.g)(xe,me),ke=Object(Y.a)({reducer:ye,middleware:function(e){return e({serializableCheck:{ignoredActions:[pe.a,pe.f,pe.b,pe.c,pe.d,pe.e,"posts"]}})}}),Se=ke,Ee=Object(pe.h)(ke);n(73);j.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(D.a,{store:Se,children:Object(p.jsx)(b.a,{loading:null,persistor:Ee,children:Object(p.jsx)(g.c,{router:Oe})})}))}},[[74,1,2]]]);
//# sourceMappingURL=main.7e5e0521.chunk.js.map